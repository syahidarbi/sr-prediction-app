# -*- coding: utf-8 -*-
"""app

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1UJ_ZRQ_jCEyDkMTHAKauE-O1wdxmfTZL
"""

!pip install gdown
import gdown

file_id = "1AVGpngMLjL5MS-f3IGs6o1j-pk7tHAT3"  # Ganti dengan ID file dari Google Drive
url = f"https://drive.google.com/uc?id={file_id}"
output = "sr_prediction_model.pkl"
gdown.download(url, output, quiet=False)


import streamlit as st
import joblib
import pandas as pd

# Load model
model = joblib.load("sr_prediction_model.pkl")

# Title aplikasi
st.title("Survival Rate Prediction")

# Input form
max_feed = st.number_input("Max feed", min_value=1)
sum_feed = st.number_input("Total feed input (kg)", min_value=1)
total_seed = st.number_input("Total seed", min_value=1)
total_seed_type = st.number_input("Total seed type", min_value=1)
last_size = st.number_input("Size at sampling", min_value=1)
last_doc = st.number_input("DoC at sampling", min_value=1)

# Tombol prediksi
if st.button("Predict"):
    input_data = pd.DataFrame([{
        "max_feed": max_feed,
        "sum_feed": sum_feed,
        "total_seed": total_seed,
        "total_seed_type": total_seed_type,
        "last_size": last_size,
        "last_doc": last_doc
    }])

    # Prediksi
    prediction = model.predict(input_data)[0]
    st.success(f"Predicted Survival Rate: {prediction:.2f}")
